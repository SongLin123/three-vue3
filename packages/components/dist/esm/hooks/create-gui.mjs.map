{"version":3,"file":"create-gui.mjs","sources":["../../../src/hooks/create-gui.ts"],"sourcesContent":["//  gui\r\nimport { GUI } from \"dat.gui\";\r\nimport { onUnmounted, onBeforeUnmount } from \"vue\";\r\n\r\ntype T = Record<string, number[]> | number[];\r\nexport const createGui = (\r\n  gui: GUI | null,\r\n  {\r\n    target,\r\n    name,\r\n    field,\r\n  }: {\r\n    target: Record<string, any>;\r\n    name?: string;\r\n    field: Record<string, T>;\r\n  }\r\n) => {\r\n  const folder = gui?.addFolder(name || \"Model\");\r\n\r\n  for (const iterator of Object.keys(field)) {\r\n    if (!(field[iterator] instanceof Array)) {\r\n      const subFolder = folder.addFolder(iterator);\r\n      for (const subIterator of Object.keys(field[iterator])) {\r\n        subFolder.add(\r\n          target[iterator],\r\n          subIterator,\r\n          ...field[iterator][subIterator]\r\n        );\r\n      }\r\n      continue;\r\n    } else {\r\n      folder.add(target, iterator, ...(field[iterator] as number[]));\r\n    }\r\n  }\r\n\r\n  onBeforeUnmount(() => {\r\n    if (gui) {\r\n      try {\r\n        gui.destroy();\r\n      } catch (error) {}\r\n      gui = null;\r\n    }\r\n  });\r\n};\r\n"],"names":[],"mappings":";;;AAKa,MAAA,SAAA,GAAY,CACvB,GACA,EAAA;AAAA,EACE,MAAA;AAAA,EACA,IAAA;AAAA,EACA,KAAA;AACF,CAKG,KAAA;AACH,EAAM,MAAA,MAAA,GAAS,GAAK,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,GAAA,CAAA,SAAA,CAAU,IAAQ,IAAA,OAAA,CAAA,CAAA;AAEtC,EAAA,KAAA,MAAW,QAAY,IAAA,MAAA,CAAO,IAAK,CAAA,KAAK,CAAG,EAAA;AACzC,IAAA,IAAI,EAAE,KAAA,CAAM,QAAQ,CAAA,YAAa,KAAQ,CAAA,EAAA;AACvC,MAAM,MAAA,SAAA,GAAY,MAAO,CAAA,SAAA,CAAU,QAAQ,CAAA,CAAA;AAC3C,MAAA,KAAA,MAAW,eAAe,MAAO,CAAA,IAAA,CAAK,KAAM,CAAA,QAAQ,CAAC,CAAG,EAAA;AACtD,QAAU,SAAA,CAAA,GAAA;AAAA,UACR,OAAO,QAAQ,CAAA;AAAA,UACf,WAAA;AAAA,UACA,GAAG,KAAA,CAAM,QAAQ,CAAA,CAAE,WAAW,CAAA;AAAA,SAChC,CAAA;AAAA,OACF;AACA,MAAA,SAAA;AAAA,KACK,MAAA;AACL,MAAA,MAAA,CAAO,IAAI,MAAQ,EAAA,QAAA,EAAU,GAAI,KAAA,CAAM,QAAQ,CAAc,CAAA,CAAA;AAAA,KAC/D;AAAA,GACF;AAEA,EAAA,eAAA,CAAgB,MAAM;AACpB,IAAA,IAAI,GAAK,EAAA;AACP,MAAI,IAAA;AACF,QAAA,GAAA,CAAI,OAAQ,EAAA,CAAA;AAAA,eACL,KAAP,EAAA;AAAA,OAAe;AACjB,MAAM,GAAA,GAAA,IAAA,CAAA;AAAA,KACR;AAAA,GACD,CAAA,CAAA;AACH;;;;"}